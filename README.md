# Revisión de código
Por: [Santiago Balcero](https://github.com/Santiago-Balcero) 

#### Proyecto analizado: [TuryxEv_Back](https://github.com/DianaArevalo/TuryxEv_Back)

## Configuración del proyecto y creación de ambiente local de desarrollo ⚠️
- El archivo `README.me` no proporciona información importante para la creación de un ambiente local de desarrollo que permita a nuevas personas integrarse al equipo de trabajo. Un `README.me` de proyecto debe contener el paso a paso para descargar el repositorio, instalar dependencias, montar la o las bases de datos locales (script .sh, script .sql o archivo docker compose), ejecutar los tests y ejecutar el proyecto. Como sugerencia el `README.me` también puede incluir un listado de los endpoints principales para probar en local (curls, colección postman o mínimo ejemplos de los requests y archivos JSON esperados). Tener en cuenta que los usuarios del `README.me` no son los usuarios de la aplicación sino el equipo de desarrollo. Lectura recomendada [aquí](https://medium.com/@fulton_shaun/readme-rules-structure-style-and-pro-tips-faea5eb5d252).
- Al ser un proyecto de naturaleza compleja recomiendo seguir la especificación [OpenAPI](https://swagger.io/specification/) como parte de la documentación de los endpoints, métodos y códigos http, parámetros de las URL, objetos esperados en los cuerpos de la petición y objetos esperados como respuesta. Ejemplo [aquí](https://petstore.swagger.io/).
- Al descargar el repositorio, estar parado sobre la rama `develop` el `11 de Noviembre de 2025 a las 7:30am` y ejecutar los tests con `npm run test` se encuentra que hay varios tests que no funcionan. Recomiendo incorporar un pipeline con GitHub actions que valide la ejecución de los tests al abrir un Pull Request a la rama `develop` y a la rama `main`. ![Resultado de ejecución de tests](images/image.png)
- Al descargar el repositorio, estar parado sobre la rama `develop` el `11 de Noviembre de 2025 a las 7:30am` y ejecutar el proyecto con `npm run dev` se encuentra que el proyecto no compila debido al error en la imagen. Recomiendo incorporar un pipeline con GitHub actions que valide que el proyecto compila y se inicia correctamente al abrir un Pull Request a la rama `develop` y a la rama `main`. ![Error módulo no encontrado](images/image-1.png)
- Al arreglar el error el proyecto sigue sin compilar debido a que falla la conexión con MongoDB ![Corrección error módulo no encontrado](/images/image-2.png)
- Recomiendo que la rama develop esté siempre estable: tests se ejecutan correctamente, el proyecto compila y se inicia el servidor.

## Elección de base de datos ⚠️
- El proyecto actualmente se conecta a una base de datos no relacional (Mongo DB). Esta puede no ser la mejor elección para un proyecto con las características de este. Un sistema de reservas y pagos tiene procesos que ejecutan mútiples lecturas, inserciones y actualizaciones de registros que necesitan de las características ACID (atomicidad, consistencia, aislamiento y durabilidad) que tienen larga trayectoria en las bases de datos relacionales. Referencias sobre ACID [aquí](https://medium.com/@artemkhrenov/acid-properties-explained-building-reliable-database-transactions-08fdeb9d3153) y [aquí](https://www.datacamp.com/blog/acid-transactions). Recomiendo evaluar la posibilidad de mirgrar a un motor de base de datos relacional.
- En el ecosistema fintech, bancario tradicional y de pagos el estandar es manejar los modelos de datos del core con bases de datos relacionales por sus características ACID. Lecturas recomendadas: [paper académico](https://www.academia.edu/126688677/SQL_vs_NoSQL_Databases_Choosing_the_Right_Option_for_FinTech#:~:text=SQL%20databases%20are%20very%20suitable,and%20strategies%20for%20future%20growth.), [artículo en Medium](https://medium.com/@keemsisi/the-ideal-database-for-financial-transactions-unraveling-the-best-options-d5fef359fe09). En caso de requerirse puede adoptarse una arquitectura en la que el core de procesamiento de pagos y reservas se maneje con una base de datos relacional y otras características como comentarios, reseñas y mensajes entre usuarios se manejen con una base de datos no relacional.
- Recomiendo añadir un archivo docker compose al repositorio para montar de manera fácil la base de datos en local a través de un contenedor dado que es la manera más ágil y rápida de hacerla disponible para el desarrollo. Referencias y ejemplos [aquí](https://medium.com/@akshatgadodia/simplify-database-management-with-docker-compose-a-comprehensive-guide-f33816ff4bc3).

## Observabilidad ❌
- El proyecto no cuenta en absoluto con un sistema de logging, métricas o trazas. Esto hace que al poner el proyecto en producción o incluso en un ambiente de pruebas no haya manera alguna de saber qué está pasando con la aplicación en tiempo real. Los logs ayudan a entender el comportamiento, detectar errores y hacer auditorías. El ciclo de vida del desarrollo de software incluye el monitoreo y la observabilidad como herramientas claves para el mantenimiento y futuras iteraciones de los sitemas. Recomiendo dar prioridad a este ítem y no poner el proyecto en ambiente productivo hasta tanto no se tenga un mínimo de observabilidad. Recomiendo manejar logs estructurados por request. Lectura recomendada sobre logs estructurados [aquí](https://stripe.com/blog/canonical-log-lines).